# SSH å¯†é’¥é…ç½®æŒ‡å—

## ğŸ”‘ å·²ç”Ÿæˆçš„å¯†é’¥

ä½ çš„ SSH å…¬é’¥å·²ç”Ÿæˆï¼š
```
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOPx60JQAnR2iExiINvoJIsOEeJ77Q2KIYwdizJxt+kW fidoo@mac
```

## ğŸ“‹ æ–¹æ³•ä¸€ï¼šé€šè¿‡é˜¿é‡Œäº‘æ§åˆ¶å°æ·»åŠ å¯†é’¥ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1: åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°é…ç½®å¯†é’¥å¯¹

1. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°
2. è¿›å…¥ **ECS å®ä¾‹** â†’ é€‰æ‹©ä½ çš„æœåŠ¡å™¨
3. ç‚¹å‡» **è¿œç¨‹è¿æ¥** â†’ **å¯†é’¥å¯¹**
4. é€‰æ‹© **å¯¼å…¥å¯†é’¥å¯¹** æˆ– **åˆ›å»ºå¯†é’¥å¯¹**
5. å°†ä¸Šé¢çš„å…¬é’¥å†…å®¹å¤åˆ¶ç²˜è´´è¿›å»
6. ç»‘å®šåˆ°ä½ çš„æœåŠ¡å™¨å®ä¾‹

### æ­¥éª¤ 2: ä½¿ç”¨å¯†é’¥è¿æ¥

```bash
# ä½¿ç”¨å¯†é’¥è¿æ¥
ssh -i ~/.ssh/id_ed25519 root@120.55.3.205
```

## ğŸ“‹ æ–¹æ³•äºŒï¼šé€šè¿‡æ§åˆ¶å°é‡ç½®å¯†ç åæ·»åŠ å¯†é’¥

### æ­¥éª¤ 1: é‡ç½®å®ä¾‹å¯†ç 

1. ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°
2. è¿›å…¥ **ECS å®ä¾‹** â†’ é€‰æ‹©æœåŠ¡å™¨
3. ç‚¹å‡» **æ›´å¤š** â†’ **å¯†ç /å¯†é’¥** â†’ **é‡ç½®å®ä¾‹å¯†ç **
4. è®¾ç½®æ–°å¯†ç å¹¶é‡å¯æœåŠ¡å™¨

### æ­¥éª¤ 2: ä½¿ç”¨å¯†ç ç™»å½•ä¸€æ¬¡

```bash
# ä½¿ç”¨å¯†ç ç™»å½•
ssh root@120.55.3.205
# è¾“å…¥åˆšæ‰è®¾ç½®çš„å¯†ç 
```

### æ­¥éª¤ 3: åœ¨æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥

ç™»å½•åæ‰§è¡Œï¼š

```bash
# åˆ›å»º .ssh ç›®å½•
mkdir -p ~/.ssh
chmod 700 ~/.ssh

# æ·»åŠ å…¬é’¥åˆ° authorized_keys
echo "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOPx60JQAnR2iExiINvoJIsOEeJ77Q2KIYwdizJxt+kW fidoo@mac" >> ~/.ssh/authorized_keys

# è®¾ç½®æƒé™
chmod 600 ~/.ssh/authorized_keys
```

### æ­¥éª¤ 4: é€€å‡ºå¹¶ä½¿ç”¨å¯†é’¥è¿æ¥

```bash
# é€€å‡ºæœåŠ¡å™¨
exit

# ä½¿ç”¨å¯†é’¥è¿æ¥ï¼ˆæ— éœ€å¯†ç ï¼‰
ssh root@120.55.3.205
```

## ğŸ“‹ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ ssh-copy-idï¼ˆå¦‚æœæœåŠ¡å™¨å…è®¸å¯†ç ç™»å½•ï¼‰

å¦‚æœæœåŠ¡å™¨ä¸´æ—¶å…è®¸å¯†ç ç™»å½•ï¼š

```bash
# å¤åˆ¶å…¬é’¥åˆ°æœåŠ¡å™¨
ssh-copy-id -i ~/.ssh/id_ed25519.pub root@120.55.3.205
```

## ğŸ”§ é…ç½® SSH åˆ«åï¼ˆæ–¹ä¾¿ä½¿ç”¨ï¼‰

åˆ›å»ºæˆ–ç¼–è¾‘ `~/.ssh/config`ï¼š

```bash
vim ~/.ssh/config
```

æ·»åŠ ï¼š

```
Host aliyun
    HostName 120.55.3.205
    User root
    Port 22
    IdentityFile ~/.ssh/id_ed25519
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

ä¿å­˜åä½¿ç”¨ï¼š

```bash
ssh aliyun
```

## âœ… éªŒè¯è¿æ¥

```bash
# æµ‹è¯•è¿æ¥
ssh root@120.55.3.205

# æˆ–ä½¿ç”¨åˆ«å
ssh aliyun
```

å¦‚æœæˆåŠŸï¼Œåº”è¯¥å¯ä»¥ç›´æ¥è¿æ¥ï¼Œæ— éœ€è¾“å…¥å¯†ç ã€‚

